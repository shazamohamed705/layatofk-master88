# ุตูุญุฉ ุงููุญูุธุฉ ุงูุฅููุชุฑูููุฉ - ุงูุชูุซูู ุงูุดุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅูุดุงุก ุตูุญุฉ ุงููุญูุธุฉ ุงูุฅููุชุฑูููุฉ `Wallet.jsx` ุจุชุตููู ุจุณูุท ููุธูู ูุทุงุจู ููุตูุฑุฉ ุงููุทููุจุฉุ ูุน ุฑุจุท ุจูุงุจุฉ ุงูุฏูุน upayments.

## ๐ ุงููููุฒุงุช ุงููููุฐุฉ

### 1. **ุนุฑุถ ุงูุฑุตูุฏ ุงูุญุงูู**
- โ ูุฌูุจ ุงูุฑุตูุฏ ูู `/api/wallet-amount-users-wallets`
- โ ุนุฑุถ ุงูุฑุตูุฏ ุจุฎุท ูุจูุฑ ููุงุถุญ
- โ ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ูุชุญ ุงูุตูุญุฉ

### 2. **ุดุญู ุงููุญูุธุฉ**
- โ ุญูู ุฅุฏุฎุงู ูููุจูุบ ุงููุฑุงุฏ ุดุญูู
- โ ุฒุฑ "ุงุดุญู ุงููุญูุธุฉ" ุจุชุตููู ูุทุงุจู ููุตูุฑุฉ
- โ ุงูุชุญูู ูู ุงููุจูุบ ูุจู ุงูุชุญููู
- โ ุงูุฑุจุท ุจุจูุงุจุฉ ุงูุฏูุน upayments

### 3. **ุฑุณุงูุฉ ุชุญุฐูุฑูุฉ**
- โ ุฅุฐุง ูุงู ุงูุฑุตูุฏ = 0ุ ุชุธูุฑ ุฑุณุงูุฉ ุชุญุฐูุฑ
- โ ุชุตููู ุจููู ุฃุตูุฑ ูุฌุฐุจ ุงูุงูุชุจุงู

### 4. **Dark Mode Support**
- โ ุฏุนู ูุงูู ูููุถุน ุงููุธูู
- โ ุชุญููุงุช ุณูุณุฉ ุจูู ุงูุฃูุถุงุน

## ๐ API ุงููุณุชุฎุฏู

### `/api/wallet-amount-users-wallets` (POST)

**Request:**
```http
POST /api/wallet-amount-users-wallets
Content-Type: application/x-www-form-urlencoded
Authorization: Bearer {token}

Body: (empty)
```

**Expected Response:**
```json
{
  "status": true,
  "msg": "",
  "wallet_amount": 150.50,
  "balance": 150.50,
  "currency": "SAR"
}
```

## ๐ณ ุจูุงุจุฉ ุงูุฏูุน

### upayments Integration:

```javascript
const paymentUrl = `https://sandbox.upayments.com/?session_id=2025143508061057153644281311350296873595645761&amount=${amount}`

// ูู ุงูู productionุ ูุฌุจ:
// 1. ุฅูุดุงุก payment session ูู ุงูู backend
// 2. ุงูุญุตูู ุนูู session_id ุฏููุงูููู
// 3. ุงูุชุญููู ููุฑุงุจุท
```

### ุงูุชุฏูู:
```
1. ุงููุณุชุฎุฏู ูุฏุฎู ุงููุจูุบ (ูุซูุงู: 100)
   โ
2. ูุถุบุท "ุงุดุญู ุงููุญูุธุฉ"
   โ
3. ุงูุชุญูู ูู ุตุญุฉ ุงููุจูุบ
   โ
4. ุงูุชุญููู ุฅูู upayments
   https://sandbox.upayments.com/?session_id=...&amount=100
   โ
5. ุงููุณุชุฎุฏู ูุฏูุน ุนุจุฑ upayments
   โ
6. upayments ุชุญูู ุงููุณุชุฎุฏู ูุฑุฉ ุฃุฎุฑู ูููููุน
   โ
7. ุชุญุฏูุซ ุงูุฑุตูุฏ ูู ุงูู database
   โ
8. ุนุฑุถ ุงูุฑุตูุฏ ุงูุฌุฏูุฏ
```

## ๐จ ุงูุชุตููู

### ุงูููููุงุช:

#### 1. **Header**
```jsx
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ [โ] ูุญูุธุฉ ุฅููุชุฑูููุฉ        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### 2. **Current Balance Card**
```jsx
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุฑุตูุฏู ุงูุญุงูู                โ
โ                             โ
โ     150.50 ุฑูุงู             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### 3. **Charge Section**
```jsx
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงุฏุฎู ุงููุจูุบ ุงููุฑุงุฏ ุดุญูู     โ
โ                             โ
โ [________0.00________]      โ
โ                             โ
โ  [โ ุงุดุญู ุงููุญูุธุฉ]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### 4. **Warning Message** (ุฅุฐุง ุงูุฑุตูุฏ = 0)
```jsx
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ๏ธ ุฑุตูุฏู ุงูุญุงูู 0 ุฑูุงู.    โ
โ ูุฑุฌู ุดุญู ุงููุญูุธุฉ ููุงุณุชูุฑุงุฑ. โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐จ ุงูุฃููุงู

### Light Mode:
```css
bg-gray-50        /* ุงูุฎูููุฉ */
bg-white          /* ุงููุฑูุช */
text-gray-900     /* ุงูุนูุงููู */
text-gray-600     /* ุงููุตูุต */
border-gray-300   /* ุงูุญุฏูุฏ */
```

### Dark Mode:
```css
bg-gray-900       /* ุงูุฎูููุฉ */
bg-gray-800       /* ุงููุฑูุช */
text-white        /* ุงูุนูุงููู */
text-gray-400     /* ุงููุตูุต */
border-gray-600   /* ุงูุญุฏูุฏ */
```

### ุงูุฒุฑ:
```css
background: #0F005B  /* ูุญูู ุบุงูู */
hover: #0A0040       /* ูุญูู ุฃุบูู */
```

## ๐ง ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ

### 1. **fetchWalletAmount()**
```javascript
const fetchWalletAmount = useCallback(async () => {
  const response = await postForm('/api/wallet-amount-users-wallets', '')
  
  if (response?.status) {
    setWalletData(response)
  }
}, [])
```

### 2. **handleChargeWallet()**
```javascript
const handleChargeWallet = () => {
  // 1. ุงูุชุญูู ูู ุงููุจูุบ
  if (!amount || parseFloat(amount) <= 0) {
    alert('ูุฑุฌู ุฅุฏุฎุงู ูุจูุบ ุตุญูุญ')
    return
  }
  
  // 2. ุงูุชุญููู ูุจูุงุจุฉ ุงูุฏูุน
  const paymentUrl = `https://sandbox.upayments.com/?session_id=...&amount=${amount}`
  window.location.href = paymentUrl
}
```

## ๐ฑ Responsive Design

### ุนูู ุงูููุจุงูู:
```
- ุนุฑุถ ูุงูู ููุดุงุดุฉ
- ุญูู ุฅุฏุฎุงู ูุงุถุญ
- ุฒุฑ ูุจูุฑ ููุงุถุญ
```

### ุนูู ุงูุดุงุดุงุช ุงููุจูุฑุฉ:
```
- max-width: 768px (ูุฑูุฒ)
- ุชุตููู ูุธูู ูููุธู
- ูุณุงูุงุช ูุฑูุญุฉ
```

## ๐ ุงูุฃูุงู

### 1. **Authentication**
```javascript
// ุงูู token ููุฑุณู ุชููุงุฆูุงู ูู api.js
Authorization: Bearer {token}
```

### 2. **Input Validation**
```javascript
// ุงูุชุญูู ูู ุงููุจูุบ
if (!amount || parseFloat(amount) <= 0) {
  alert('ูุฑุฌู ุฅุฏุฎุงู ูุจูุบ ุตุญูุญ')
  return
}
```

### 3. **Payment Gateway**
```javascript
// ุงุณุชุฎุฏุงู upayments ุงูููุซูู
// ูู production: ูุฌุจ ุฅูุดุงุก session ูู backend
```

## ๐ ุงููููุงุช

```
โ src/components/Packages/Wallet.jsx  - ุงูุตูุญุฉ
โ๏ธ src/App.js                          - ุฅุถุงูุฉ route
โ๏ธ src/components/ProfilePages/ProfilePages.jsx - ุฑุจุท ุงูุฑุงุจุท
โ WALLET_IMPLEMENTATION.md            - ุงูุชูุซูู
```

## ๐ Routes

```javascript
// ูู App.js
{ path: "wallet", element: <Wallet /> }

// ูููุตูู
navigate('/wallet')

// ุฃู ูู ProfilePages
onClick: () => navigate('/wallet')
```

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ูุฏูู ุฑุตูุฏ
```
1. ููุชุญ /wallet
2. ูุนุฑุถ: "ุฑุตูุฏู ุงูุญุงูู: 150.50 ุฑูุงู"
3. ููููู ุฅุถุงูุฉ ุงููุฒูุฏ
```

### ุงูุณููุงุฑูู 2: ุฑุตูุฏ = 0
```
1. ููุชุญ /wallet
2. ูุนุฑุถ: "ุฑุตูุฏู ุงูุญุงูู: 0 ุฑูุงู"
3. ุฑุณุงูุฉ ุชุญุฐูุฑ: "ูุฑุฌู ุดุญู ุงููุญูุธุฉ"
4. ูุฏุฎู ูุจูุบ ููุดุญู
```

### ุงูุณููุงุฑูู 3: ุดุญู ุงููุญูุธุฉ
```
1. ูุฏุฎู ุงููุจูุบ (ูุซูุงู: 100)
2. ูุถุบุท "ุงุดุญู ุงููุญูุธุฉ"
3. ูุชุญูู ูู upayments
4. ูุฏูุน
5. ูุฑุฌุน ูููููุน
6. ุงูุฑุตูุฏ ูุชุญุฏุซ
```

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. **Session ID**
```javascript
// ุญุงููุงู: session_id ุซุงุจุช (ููุชุทููุฑ)
const sessionId = '2025143508061057153644281311350296873595645761'

// ูู Production: ูุฌุจ ุฃู ูููู ุฏููุงูููู
// Backend ูููุดุฆ session ุฌุฏูุฏ ููู ุนูููุฉ ุฏูุน
```

### 2. **Payment Response**
```javascript
// ุจุนุฏ ุงูุฏูุนุ upayments ุชุฑุฌุน ูููููุน ูุน:
// - success/failure status
// - transaction_id
// - amount

// ูุฌุจ ูุนุงูุฌุฉ ุงูู response ูู ุตูุญุฉ callback
```

### 3. **Amount Format**
```javascript
// ููุจู:
- ุฃุนุฏุงุฏ ุตุญูุญุฉ: 100
- ุฃุนุฏุงุฏ ุนุดุฑูุฉ: 150.50

// Validation:
parseFloat(amount) > 0
```

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

1. โจ **Backend Session Creation**
   - ุฅูุดุงุก session ูู ุงูู backend
   - session_id ุฏููุงูููู ููู ุนูููุฉ

2. ๐ **Transaction History**
   - ุนุฑุถ ุณุฌู ุงููุนุงููุงุช
   - ุชูุงุฑูุฎ ูุฃููุงุช ุงูุดุญู

3. ๐ณ **Multiple Payment Methods**
   - ุจุทุงูุงุช ุงุฆุชูุงู
   - Apple Pay
   - Mada

4. ๐ **Bonus System**
   - ุนุฑูุถ ุนูุฏ ุงูุดุญู (ูุซูุงู: ุงุดุญู 100ุ ุงุญุตู ุนูู 110)

5. ๐ง **Notifications**
   - ุฅุดุนุงุฑ ุนูุฏ ูุฌุงุญ ุงูุดุญู
   - ุฅูููู ุชุฃููุฏ

6. ๐ **Enhanced Security**
   - OTP verification
   - 2FA ููุนูููุงุช ุงููุจูุฑุฉ

## ๐ ุงูุชูุงูู ูุน upayments

### Sandbox (ููุชุทููุฑ):
```
URL: https://sandbox.upayments.com/
```

### Production:
```
URL: https://upayments.com/
```

### Parameters:
```
?session_id={dynamic_session_id}
&amount={amount}
&callback_url={your_website/wallet/callback}
```

## ๐จ Input Field

```jsx
<input
  type="number"
  inputMode="decimal"
  placeholder="0.00"
  className="..."
/>
```

**ุงููููุฒุงุช:**
- `type="number"` - ููุญุฉ ููุงุชูุญ ุฃุฑูุงู ุนูู ุงูููุจุงูู
- `inputMode="decimal"` - ูุณูุญ ุจุงูููุทุฉ ุงูุนุดุฑูุฉ
- `placeholder="0.00"` - ููุถุญ ุงูุชูุณูู

## โ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ุตูุญุฉ ูุญูุธุฉ ุฅููุชุฑูููุฉ ุงุญุชุฑุงููุฉ:

โ **ุชุตููู ูุทุงุจู ููุตูุฑุฉ**  
โ **ูุฌูุจ ุงูุฑุตูุฏ ูู API**  
โ **ุดุญู ุนุจุฑ upayments**  
โ **Dark Mode support**  
โ **Responsive design**  
โ **Input validation**  
โ **Loading states**  
โ **Error handling**  

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 6 ุฃูุชูุจุฑ 2025  
**ุงููุณุฎุฉ**: 1.0.0  
**ุงูุญุงูุฉ**: โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู

## ๐ฏ ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

```
1. ุงุฐูุจ ุฅูู /profile
2. ุงุถุบุท ุนูู "ุงููุญูุธุฉ ุงูุฅููุชุฑูููุฉ"
3. ุดุงูุฏ ุฑุตูุฏู ุงูุญุงูู
4. ุฃุฏุฎู ุงููุจูุบ ุงููุฑุงุฏ ุดุญูู
5. ุงุถุบุท "ุงุดุญู ุงููุญูุธุฉ"
6. ุฃููู ุงูุฏูุน ูู upayments
7. ุงุฑุฌุน ูุดุงูุฏ ุงูุฑุตูุฏ ุงููุญุฏุซ
```

**ุงููุญูุธุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู! ๐ฐโจ**

